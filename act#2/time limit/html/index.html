<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../css/index.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <!-- for widgets -->
    <script type="text/javascript" src="https://code.jquery.com/ui/1.10.4/jquery-ui.js"> </script> 


    <title>Time Limit</title>
</head>
<body>
    <section id="vwg-timer">
        <section id="vwg-setTimeSec">
            <div>
                <form id="vwg-setTime">
                    <label for="vwg-timeInpID">Input time limit in seconds<br></label>
                    <input type="number" name="vwg-timeInp" id="vwg-timeInpID" class="vwg-timeInp">
                    <input type="submit" value="Start!">
                </form>
            </div>
        </section>

        <section id="vwg-timeProgrsSec">
            <div id="vwg-timerCountDwn">
                <span id="vwg-timeDigitProgrs">Time Limit:<span id="vwg-timeDigitTick"> </span></span>
                <div id="vwg-timeCont">
                   <div id="vwg-timeProgrs" ></div>
                </div>
            </div>
        </section>
    </section>
</body>
<script>
    //load progress bar
    $("#vwg-timeProgrs").progressbar({
        value: 0
    });


    $("#vwg-setTime").submit( function(event){
        event.preventDefault();
        var timeProg = 0;
        var timeSet = $("#vwg-timeInpID").val();
        var digitTick = timeSet;

        setInterval(function() {
            if(timeSet>0){
                --timeSet;
                $("#vwg-timeDigitTick").html(timeSet+" sec");
            }
        }, 1000);



        if(timeSet>0){
            $(".ui-widget-header").css("transition-duration" , timeSet+"s");
          
            //overide progress bar
            while( timeProg <= 100){        
                $("#vwg-timeProgrs").progressbar({
                    value: timeProg
                });
                timeProg++;
            }
        }
        else{
            alert("Invalid Input");
        }

        
        
    });

</script>
</html>